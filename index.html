<!DOCTYPE html>
<html>
<head>
    <title>Google Tag Manager Test</title>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PJKZ6M3R');</script>
    <!-- End Google Tag Manager -->


</head>
<body>
        <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PJKZ6M3R"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <h1>Google Tag Manager Test</h1>
    <p>Key1: <span id="key1"></span></p>
    <p>Key2: <span id="key2"></span></p>

    <script>
        // 获取 URL 参数
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // 将参数值显示在页面上
        document.getElementById("key1").textContent = getQueryParam('key1') || 'N/A';
        document.getElementById("key2").textContent = getQueryParam('key2') || 'N/A';

        // 动态插入 JavaScript Tag
        (function(a, b, c, d, e, f, g) {
            e['ire_o'] = c;
            e[c] = e[c] || function() { (e[c].a = e[c].a || []).push(arguments); };
            f = d.createElement(b);
            g = d.getElementsByTagName(b)[0];
            f.async = 1;
            f.src = a;
            g.parentNode.insertBefore(f, g);
        })('https://utt.impactcdn.com/A2788006-de3d-4011-a57c-c4737e79de0365535.js', 'script', 'ire', document, window);

        // 将 URL 参数传递到 JavaScript Tag
        ire('identify', {
            customerid: getQueryParam('key1') || '',
            customeremail: getQueryParam('key2') || ''
        });
    </script>
</body>
</html>


